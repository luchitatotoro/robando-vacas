<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css"/>
		<meta charset="UTF-8">
		<meta name = "keywords" content= "Shunt, musica, rock">
		<title> temas </title>
		<link rel="stylesheet" type="text/css" href="grid/css/default.css"/>
		<link rel="stylesheet" type="text/css" href="grid/css/component.css"/>
		<script src="grid/js/modernizr.custom.js"></script>
		<script type="text/javascript">
					   // list of items
			var $grid = $( '#og-grid' ),
			    // the items
			    $items = $grid.children( 'li' ),
			    // current expanded item´s index
			    current = -1,
			    // position (top) of the expanded item
			    // used to know if the preview will expand in a different row
			    previewPos = -1,
			    // extra amount of pixels to scroll the window
			    scrollExtra = 0,
			    // extra margin when expanded (between the preview element and the next item row)
			    marginExpanded = 10,
			    $window = $( window ), winsize,
			    $body = $( 'html, body' ),
			    // transitionend events
			    transEndEventNames = {
			        'WebkitTransition' : 'webkitTransitionEnd',
			        'MozTransition' : 'transitionend',
			        'OTransition' : 'oTransitionEnd',
			        'msTransition' : 'MSTransitionEnd',
			        'transition' : 'transitionend'
			    },
			    transEndEventName = transEndEventNames[ Modernizr.prefixed( 'transition' ) ],
			    // support for csstransitions
			    support = Modernizr.csstransitions,
			    // default settings
			    settings = {
			        minHeight : 500,
			        speed : 350,
			        easing : 'ease'
			    };
			    
			    function init( config ) {
     
				    // the settings..
				    settings = $.extend( true, {}, settings, config );
				 
				    // preload all images
				    $grid.imagesLoaded( function() {
				 
				        // save item´s size and offset
				        saveItemInfo( true );
				        // get window´s size
				        getWinSize();
				        // initialize some events
				        initEvents();
				 
				    } );
				 
				}
								// saves the item´s offset top and height (if saveheight is true)
				function saveItemInfo( saveheight ) {
				    $items.each( function() {
				        var $item = $( this );
				        $item.data( 'offsetTop', $item.offset().top );
				        if( saveheight ) {
				            $item.data( 'height', $item.height() );
				        }
				    } );
				}
				 
				function getWinSize() {
				    winsize = { width : $window.width(), height : $window.height() };
				}

				function initEvents() {
				     
				    // when clicking an item, show the preview with the item´s info and large image;
				    // close the item if already expanded.
				    // also close if clicking on the item´s cross
				    $items.on( 'click', 'span.og-close', function() {
				        hidePreview();
				        return false;
				    } ).children( 'a' ).on( 'click', function(e) {
				 
				        var $item = $( this ).parent();
				        // check if item already opened
				        current === $item.index() ? hidePreview() : showPreview( $item );
				        return false;
				 
				    } );
				 
				    // on window resize get the window´s size again
				    // reset some values..
				    $window.on( 'debouncedresize', function() {
				         
				        scrollExtra = 0;
				        previewPos = -1;
				        // save item´s offset
				        saveItemInfo();
				        getWinSize();
				        var preview = $.data( this, 'preview' );
				        if( typeof preview != 'undefined' ) {
				            hidePreview();
				        }
				 
				    } );
				 
				}
				function showPreview( $item ) {
				 
				    var preview = $.data( this, 'preview' ),
				        // item´s offset top
				        position = $item.data( 'offsetTop' );
				 
				    scrollExtra = 0;
				 
				    // if a preview exists and previewPos is different (different row) from item´s top, then close it
				    if( typeof preview != 'undefined' ) {
				 
				        // not in the same row
				        if( previewPos !== position ) {
				            // if position > previewPos then we need to take the current preview´s height in consideration when scrolling the window
				            if( position > previewPos ) {
				                scrollExtra = preview.height;
				            }
				            hidePreview();
				        }
				        // same row
				        else {
				            preview.update( $item );
				            return false;
				        }
				         
				    }
				 
				    // update previewPos
				    previewPos = position;
				    // initialize new preview for the clicked item
				    preview = $.data( this, 'preview', new Preview( $item ) );
				    // expand preview overlay
				    preview.open();
				 
				}

								// the preview obj / overlay
				function Preview( $item ) {
				    this.$item = $item;
				    this.expandedIdx = this.$item.index();
				    this.create();
				    this.update();
				}

				create : function() {
				    // create Preview structure:
				    this.$title = $( '<h3></h3>' );
				    this.$description = $( '<p></p>' );
				    this.$href = $( '<a href="#">Visit website</a>' );
				    this.$details = $( '<div class="og-details"></div>' ).append( this.$title, this.$description, this.$href );
				    this.$loading = $( '<div class="og-loading"></div>' );
				    this.$fullimage = $( '<div class="og-fullimg"></div>' ).append( this.$loading );
				    this.$closePreview = $( '<span class="og-close"></span>' );
				    this.$previewInner = $( '<div class="og-expander-inner"></div>' ).append( this.$closePreview, this.$fullimage, this.$details );
				    this.$previewEl = $( '<div class="og-expander"></div>' ).append( this.$previewInner );
				    // append preview element to the item
				    this.$item.append( this.getEl() );
				    // set the transitions for the preview and the item
				    if( support ) {
				        this.setTransition();
				    }
				}

				update : function( $item ) {
				 
				    // update with new item´s details 
				    if( $item ) {
				        this.$item = $item;
				    }
				     
				    // if already expanded, remove class "og-expanded" from current item and add it to new item
				    if( current !== -1 ) {
				        var $currentItem = $items.eq( current );
				        $currentItem.removeClass( 'og-expanded' );
				        this.$item.addClass( 'og-expanded' );
				        // position the preview correctly
				        this.positionPreview();
				    }
				 
				    // update current value
				    current = this.$item.index();
				 
				    // update preview´s content
				    var $itemEl = this.$item.children( 'a' ),
				        eldata = {
				            href : $itemEl.attr( 'href' ),
				            largesrc : $itemEl.data( 'largesrc' ),
				            title : $itemEl.data( 'title' ),
				            description : $itemEl.data( 'description' )
				        };
				 
				    this.$title.html( eldata.title );
				    this.$description.html( eldata.description );
				    this.$href.attr( 'href', eldata.href );
				 
				    var self = this;
				     
				    // remove the current image in the preview
				    if( typeof self.$largeImg != 'undefined' ) {
				        self.$largeImg.remove();
				    }
				 
				    // preload large image and add it to the preview
				    // for smaller screens we don´t display the large image (the last media query will hide the wrapper of the image)
				    if( self.$fullimage.is( ':visible' ) ) {
				        this.$loading.show();
				        $( '<img/>' ).load( function() {
				            self.$loading.hide();
				            self.$largeImg = $( this ).fadeIn( 350 );
				            self.$fullimage.append( self.$largeImg );
				        } ).attr( 'src', eldata.largesrc ); 
				    }
				 
				}
				open : function() {
				 
				    //setTimeout( $.proxy( function() {
				    setTimeout( function() {   
				        // set the height for the preview and the item
				        this.setHeights();
				        // scroll to position the preview in the right place
				        this.positionPreview();
				    //}, this ), 25 );
				 	}, this, 25 );
				}
				 
				setHeights : function() {
				 
				    var self = this,
				        onEndFn = function() {
				            if( support ) {
				                self.$item.off( transEndEventName );
				            }
				            self.$item.addClass( 'og-expanded' );
				        };
				 
				    this.calcHeight();
				    this.$previewEl.css( 'height', this.height );
				    this.$item.css( 'height', this.itemHeight ).on( transEndEventName, onEndFn );
				 
				    if( !support ) {
				        onEndFn.call();
				    }
				 
				}
				 
				calcHeight : function() {
				 
				    var heightPreview = winsize.height - this.$item.data( 'height' ) - marginExpanded,
				        itemHeight = winsize.height;
				 
				    if( heightPreview < settings.minHeight ) {
				        heightPreview = settings.minHeight;
				        itemHeight = settings.minHeight + this.$item.data( 'height' ) + marginExpanded;
				    }
				 
				    this.height = heightPreview;
				    this.itemHeight = itemHeight;
				 
				}
				 
				positionPreview : function() {
				 
				    // scroll page
				    // case 1 : preview height + item height fits in window´s height
				    // case 2 : preview height + item height does not fit in window´s height and preview height is smaller than window´s height
				    // case 3 : preview height + item height does not fit in window´s height and preview height is bigger than window´s height
				    var position = this.$item.data( 'offsetTop' ),
				        previewOffsetT = this.$previewEl.offset().top - scrollExtra,
				        scrollVal = this.height + this.$item.data( 'height' ) + marginExpanded <= winsize.height ? position : this.height < winsize.height ? previewOffsetT - ( winsize.height - this.height ) : previewOffsetT;
				     
				    $body.animate( { scrollTop : scrollVal }, settings.speed );
				 
				}
				close : function() {
	 
				    var self = this,
				        onEndFn = function() {
				            if( support ) {
				                $( this ).off( transEndEventName );
				            }
				            self.$item.removeClass( 'og-expanded' );
				            self.$previewEl.remove();
				        };
				 
				    //setTimeout( $.proxy( function() {
				 	setTimeout(function() {
				        if( typeof this.$largeImg !== 'undefined' ) {
				            this.$largeImg.fadeOut( 'fast' );
				        }
				        this.$previewEl.css( 'height', 0 );
				        // the current expanded item (might be different from this.$item)
				        var $expandedItem = $items.eq( this.expandedIdx );
				        $expandedItem.css( 'height', $expandedItem.data( 'height' ) ).on( transEndEventName, onEndFn );
				 
				        if( !support ) {
				            onEndFn.call();
				        }
				 
				    }, this ), 25 );
				     
				    return false;
	 
				}

    	</script>  
	</head>
	<body>			

			<div id= "Robando vacas">
				<ul id="og-grid" class="og-grid">
					<li>
						<a class= "imgTemas" href="" data-largesrc="img/vacaexp.jpg" data-title="Robando vacas" data-description="Una choza en el medio del Amazonas / Ella solo quiere ir ahí / No más trabajo ni jubilación / Ella solo hará lo que la haga feliz / Lejos de toda preocupación / será libre de hacer lo que quiera / Basta de seguir tu indicación / Vamos, junto a los árboles bailará / Se cansó de esperar siempre lo mismo / Robando vacas ella es feliz / Ya van siete años en el bosque / Imparte sabiduría en su comunidad / Hippies que escuchan a The Doors / De toda tristeza se olvidó//"><img src ="img/vacathumb.jpg" width="150" heigth="150" alt=""/></a>
						
						<div class="og-expander">
					        <div class="og-expander-inner">
					            <span class="og-close"></span>
					            <div class="og-fullimg">
					                <div class="og-loading"></div>
					                <img src="img/vacaexp.jpg">
					            </div>
					            <div class="og-details">
					                <h3></h3>
					                <p></p>
					        
					            </div>
					        </div>
					    </div>

					</li>	
					
					<li>
						<a class= "imgTemas" href ="" data-largesrc="img/1125exp.png" data-title="1,125" data-description="No necesito ningún amigo / No necesito tu compañía / Tampoco quiero nadie a mi lado / para romper la monotonía / Un monitor y un teclado / me tienen hecho un esclavo / La misma cara / el mismo libro / lo que me tiene conectado / Vivo sentado en una silla / ¡Qué cosa loca! No tengo vida / No más trabajo, no más relajo / Computadora, todos los días //"><img src ="img/1125thumb.png" width="150" heigth="150" alt=""/></a>

						<div class="og-expander">
					        <div class="og-expander-inner">
					            <span class="og-close"></span>
					            <div class="og-fullimg">
					                <div class="og-loading"></div>
					                <img src="img/1125exp.png">
					            </div>
					            <div class="og-details">
					                <h3></h3>
					                <p></p>
					           
					            </div>
					        </div>
					    </div>

					</li>
					<li>
						<a class= "imgTemas" href ="" data-largesrc="img/barreraexp.jpg" data-title="La Barrera" data-description="Un mes ya fue, otro mes también / y ya con otro vas a ver / ¡Qué bien! Duró más / ¡Qué mal! Esto aún no va a acabar / Andá a mirar atrás / que nadie venga a molestar / Voy bien, ya está, acá lo ves / y la barrera no me va a detener / Piso el riel y veo cómo se acerca / Tomo un té y veo cómo se acerca / Piso el riel y veo cómo se acerca / Tomo un té, y la barrera no me va a detener //"><img src ="img/barrerathumb.jpg" width="150" heigth="150" alt=""/></a>

						<div class="og-expander">
					        <div class="og-expander-inner">
					            <span class="og-close"></span>
					            <div class="og-fullimg">
					                <div class="og-loading"></div>
					                <img src="img/barreraexp.jpg">
					            </div>
					            <div class="og-details">
					                <h3></h3>
					                <p></p>
					            </div>
					        </div>
					    </div>

					</li>

					<li>
						<a class= "imgTemas" href ="" data-largesrc="img/dromedarioexp.jpg" data-title="Dilema del dromedario" data-description="Estaba el dromedario solito en el desierto / Tenía mucho tiempo, y por eso preguntó / ¿Por qué una joroba, en vez de tener dos? / ¿Por qué soy dromedario y no un tiburón? / ¿Es que hay lista de espera? ¿O vacante a ocupar? / Elección ya nno me queda, ¿me empiezo a preocupar? / ¿Es que acaso decido algo? ¿O alguien lo hace por mi? / ¿Yo forjo mi destino o al destino sucumbí? / Y así se puso a pensar que tal vez el azar / se encargó de moldear su joroba y su pensar / Y después se sorprendió al ver como utilizó / las mismas dos palabras en la misma oración / Sumido en su dilema, su amigo el beduino / le dijo al oido lo que aquí les repito / 'Tranquilo, amigo mío, si sos víctima del destino / no hay manera de saberlo, tomate un café conmigo'"//><img src ="img/dromedariothumb.jpg" width="150" heigth="150" alt=""/></a>

						<div class="og-expander">
					        <div class="og-expander-inner">
					            <span class="og-close"></span>
					            <div class="og-fullimg">
					                <div class="og-loading"></div>
					                <img src="img/dromedarioexp.jpg">
					            </div>
					            <div class="og-details">
					                <h3></h3>
					                <p></p>
					            </div>
					        </div>
					    </div>

					</li>

			</div>
		
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script type="text/javascript" src="grid/js/grid.js"></script>
		<script>
			$(function() {
				Grid.init();
			});
		</script> 
	</body>
</html>